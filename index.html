<!DOCTYPE html>
<html lang="es-CU" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="KwYd-p4Sl1VlkdQmdyKKgwMpT7BsxFKygnGzibzNijQ" />
    
    <!-- Meta tags mejorados para SEO -->
    <title>CubaBazarOnline | Plataforma de Comercio Electrónico para Residentes en Cuba</title>
    <meta name="description" content="Plataforma segura de comercio electrónico exclusiva para residentes en Cuba. Compra, vende y ofrece servicios con confianza en un entorno diseñado para el mercado cubano.">
    <meta name="keywords" content="comercio electrónico Cuba, compra venta Cuba, servicios Cuba, clasificados Cuba, economía cubana, mercado cubano">
    <meta name="author" content="CubaBazarOnline">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#002A8F">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="CubaBazarOnline - Plataforma de comercio cubana">
    <meta property="og:description" content="Solución confiable para transacciones comerciales entre residentes en Cuba">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cubabazaronline.cu">
    <meta property="og:image" content="https://cubabazaronline.cu/images/og-image.jpg">
    <meta property="og:locale" content="es_CU">
    <meta property="og:site_name" content="CubaBazarOnline">
    
    <!-- Favicon y Web App Manifest -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🇨🇺</text></svg>">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Preconexiones y precargas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap"></noscript>
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- Estilos críticos inline -->
    <style>
    :root {
        --azul-cuba: #002A8F;
        --azul-oscuro: #001A5E;
        --rojo-cuba: #CF142B;
        --rojo-oscuro: #A01022;
        --blanco: #FFFFFF;
        --gris-claro: #F8F9FA;
        --gris-medio: #E9ECEF;
        --gris-oscuro: #212529;
        --verde-cta: #28A745;
        --verde-oscuro: #218838;
        --sombra: 0 4px 12px rgba(0,0,0,0.08);
        --sombra-hover: 0 8px 24px rgba(0,0,0,0.12);
        --transicion: all 0.3s ease;
        --border-radius: 8px;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Open Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--gris-oscuro);
        background-color: var(--gris-claro);
        position: relative;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow-x: hidden;
    }
    
    /* Estilos críticos continuan... */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0,0,0,0);
        white-space: nowrap;
        border-width: 0;
    }
    
    a:focus, button:focus {
        outline: 3px solid var(--rojo-cuba);
        outline-offset: 3px;
    }
    
    /* Solo los estilos más críticos para el renderizado inicial */
    .access-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.97);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        color: var(--blanco);
        padding: 1rem;
    }
    
    header {
        background: linear-gradient(135deg, var(--azul-oscuro) 0%, var(--azul-cuba) 100%);
        color: var(--blanco);
        padding: 1rem 0;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        position: sticky;
        top: 0;
        z-index: 100;
    }
    </style>
    
    <!-- Estilos no críticos cargados asincrónicamente -->
    <link rel="stylesheet" href="/css/styles.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/css/styles.css"></noscript>
</head>

<body>
    <div class="access-modal" id="accessModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="access-box">
            <div class="flag-icon" aria-hidden="true">
                <i class="fas fa-flag" aria-hidden="true"></i>
            </div>
            <h2 id="modalTitle">Acceso exclusivo para residentes en Cuba</h2>
            <p>CubaBazarOnline es una plataforma diseñada específicamente para facilitar el comercio entre residentes en Cuba. Para acceder a nuestros servicios, confirme su residencia en el territorio nacional.</p>
            <div class="modal-buttons">
                <button class="btn btn-primary" id="confirmCuban" aria-label="Confirmar residencia en Cuba">Confirmar residencia en Cuba</button>
                <button class="btn btn-outline" id="notCuban" aria-label="No resido en Cuba">No resido en Cuba</button>
            </div>
        </div>
    </div>

    <div id="mainContent" style="display:none;">
        <!-- Cabecera mejorada semánticamente -->
        <header role="banner">
            <div class="header-container">
                <a href="#inicio" class="logo" aria-label="CubaBazarOnline - Inicio">
                    <i class="fas fa-store" aria-hidden="true"></i>
                    <span>CubaBazarOnline</span>
                </a>
                
                <button class="menu-toggle" id="menuToggle" aria-expanded="false" aria-controls="navLinks" aria-label="Menú de navegación">
                    <span class="menu-icon" aria-hidden="true"></span>
                    <span class="sr-only">Menú</span>
                </button>
                
                <nav id="mainNav" aria-label="Navegación principal">
                    <ul class="nav-links" id="navLinks">
                        <li><a href="#inicio" class="nav-link">Inicio</a></li>
                        <li><a href="#como-funciona" class="nav-link">Funcionalidades</a></li>
                        <li><a href="#categorias" class="nav-link">Categorías</a></li>
                        <li><a href="#descargar" class="nav-link">Aplicación</a></li>
                        <li><a href="#contacto" class="nav-link">Contacto</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Hero section con ARIA mejorada -->
        <section class="hero" id="inicio" aria-labelledby="heroTitle">
            <div class="hero-content">
                <h1 id="heroTitle">Plataforma de comercio electrónico para Cuba</h1>
                <p>Conectamos a compradores y vendedores en un entorno seguro y confiable, diseñado específicamente para las necesidades del mercado cubano.</p>
                <div class="hero-buttons">
                    <a href="https://whatsapp.com/channel/0029Vb61NTa5vKA3hCMIQr3j" class="btn btn-primary" aria-label="Únase a nuestra comunidad en WhatsApp">Únase a nuestra comunidad</a>
                    <a href="https://cubabazaronline.github.io/CubaHostPro/" class="btn btn-outline" style="background-color:var(--rojo-cuba);border-color:var(--rojo-cuba);" aria-label="Conozca nuestro servicio CubaHostPro">Servicio CubaHostPro</a>
                </div>
            </div>
        </section>

        <!-- Contenido principal con estructura semántica mejorada -->
        <main id="main">
            <section id="features" aria-labelledby="features-heading">
                <div class="container">
                    <h2 class="section-title" id="features-heading">Ventajas de nuestra plataforma</h2>
                    <div class="features-grid" role="list">
                        <div class="feature-card" role="listitem">
                            <div class="feature-icon" aria-hidden="true">
                                <i class="fas fa-hand-holding-usd"></i>
                            </div>
                            <h3>Sin costos ocultos</h3>
                            <p>Operamos sin comisiones ni tarifas sorpresa. Nuestro compromiso es facilitar el comercio sin cargas financieras adicionales.</p>
                        </div>
                        <!-- Más tarjetas de características... -->
                    </div>
                </div>
            </section>

            <!-- Más secciones con estructura similar... -->
        </main>

        <!-- Pie de página optimizado -->
        <footer id="contacto" role="contentinfo" aria-labelledby="footerHeading">
            <div class="footer-container">
                <h2 id="footerHeading" class="sr-only">Información de contacto y enlaces</h2>
                <!-- Columnas del footer... -->
            </div>
            <div class="copyright">
                <p>&copy; <span id="current-year">2025</span> CubaBazarOnline. Todos los derechos reservados.</p>
                <p><small>CubaHostPro es un servicio independiente ofrecido como alternativa.</small></p>
            </div>
        </footer>
    </div>

    <!-- Scripts optimizados -->
    <script>
    // Cargar scripts no críticos de forma asíncrona
    function loadScript(src, async = true, defer = true) {
        const script = document.createElement('script');
        script.src = src;
        script.async = async;
        script.defer = defer;
        document.body.appendChild(script);
    }
    
    // Scripts críticos inline
    document.addEventListener('DOMContentLoaded', function() {
        // Actualizar año actual
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // Manejo del modal de acceso
        if(localStorage.getItem('isCuban') === 'true') {
            document.getElementById('accessModal').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
        } else {
            document.getElementById('accessModal').style.display = 'flex';
        }
        
        // Configuración del menú móvil
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.getElementById('navLinks');
        
        menuToggle.addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !expanded);
            navLinks.classList.toggle('active');
        });
        
        // Cargar scripts no críticos
        if(window.innerWidth > 768) {
            loadScript('/js/animations.js');
        }
    });
    
    // Registrar Service Worker
    if('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('/sw.js').then(function(registration) {
                console.log('ServiceWorker registrado con éxito: ', registration.scope);
            }, function(err) {
                console.log('Error en el registro de ServiceWorker: ', err);
            });
        });
    }
    </script>
    
    <!-- Cargar scripts adicionales de forma diferida -->
    <script defer src="/js/main.js"></script>
    
    <!-- Schema.org markup para SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "CubaBazarOnline",
        "url": "https://cubabazaronline.cu",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://cubabazaronline.cu/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
</body>
</html>